{"code":"!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=\"./src/server/server.ts\")}({\"./plugins sync recursive ^\\\\.\\\\/.*\\\\/server\\\\/.*$\":\n/*!*******************************************!*\\\n  !*** ./plugins sync ^\\.\\/.*\\/server\\/.*$ ***!\n  \\*******************************************/\n/*! no static exports found */function(module,exports,__webpack_require__){eval('var map = {\\n\\t\"./character/server/server\": \"./plugins/character/server/server.ts\",\\n\\t\"./character/server/server.ts\": \"./plugins/character/server/server.ts\"\\n};\\n\\n\\nfunction webpackContext(req) {\\n\\tvar id = webpackContextResolve(req);\\n\\treturn __webpack_require__(id);\\n}\\nfunction webpackContextResolve(req) {\\n\\tif(!__webpack_require__.o(map, req)) {\\n\\t\\tvar e = new Error(\"Cannot find module \\'\" + req + \"\\'\");\\n\\t\\te.code = \\'MODULE_NOT_FOUND\\';\\n\\t\\tthrow e;\\n\\t}\\n\\treturn map[req];\\n}\\nwebpackContext.keys = function webpackContextKeys() {\\n\\treturn Object.keys(map);\\n};\\nwebpackContext.resolve = webpackContextResolve;\\nmodule.exports = webpackContext;\\nwebpackContext.id = \"./plugins sync recursive ^\\\\\\\\.\\\\\\\\/.*\\\\\\\\/server\\\\\\\\/.*$\";\\n\\n//# sourceURL=webpack:///./plugins_sync_^\\\\.\\\\/.*\\\\/server\\\\/.*$?')},\"./plugins/character/server/server.ts\":\n/*!********************************************!*\\\n  !*** ./plugins/character/server/server.ts ***!\n  \\********************************************/\n/*! no static exports found */function(module,exports,__webpack_require__){\"use strict\";eval('\\r\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\r\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\r\\n    return new (P || (P = Promise))(function (resolve, reject) {\\r\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\r\\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\\r\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\r\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\r\\n    });\\r\\n};\\r\\nObject.defineProperty(exports, \"__esModule\", { value: true });\\r\\nexports._handler = void 0;\\r\\nclass Module {\\r\\n    constructor(Koi) {\\r\\n        this.saveCharacter = (data) => __awaiter(this, void 0, void 0, function* () {\\r\\n            const player = global.source;\\r\\n            const playerIds = this.Koi.getPlayerIds(player);\\r\\n            const char = yield this.Koi.db(\"characters\").findFirst({\\r\\n                where: {\\r\\n                    id: playerIds.steam,\\r\\n                },\\r\\n            });\\r\\n            if (!char) {\\r\\n                return yield this.Koi.db(\"characters\").write({\\r\\n                    data: {\\r\\n                        skin: JSON.stringify(data),\\r\\n                    },\\r\\n                });\\r\\n            }\\r\\n            else {\\r\\n                return yield this.Koi.db(\"characters\").update({\\r\\n                    data: {\\r\\n                        skin: JSON.stringify(data),\\r\\n                    },\\r\\n                    where: {\\r\\n                        user_id: playerIds.steam,\\r\\n                    },\\r\\n                });\\r\\n            }\\r\\n        });\\r\\n        this.Koi = Koi;\\r\\n        Koi.onNet(\"character:save\", this.saveCharacter);\\r\\n    }\\r\\n}\\r\\nconst _handler = (koi) => new Module(koi);\\r\\nexports._handler = _handler;\\r\\n\\n\\n//# sourceURL=webpack:///./plugins/character/server/server.ts?')},\"./src/server/core.ts\":\n/*!****************************!*\\\n  !*** ./src/server/core.ts ***!\n  \\****************************/\n/*! no static exports found */function(module,exports){eval(\"throw new Error(\\\"Module build failed (from ./node_modules/eslint-loader/dist/cjs.js):\\\\nError: ENOENT: no such file or directory, open 'D:\\\\\\\\Servers\\\\\\\\KoiCityRP\\\\\\\\txData\\\\\\\\CFX\\\\\\\\resources\\\\\\\\[local]\\\\\\\\[koi]\\\\\\\\koi\\\\\\\\src\\\\\\\\server\\\\\\\\core.ts'\\\");\\n\\n//# sourceURL=webpack:///./src/server/core.ts?\")},\"./src/server/server.ts\":\n/*!******************************!*\\\n  !*** ./src/server/server.ts ***!\n  \\******************************/\n/*! no static exports found */function(module,exports,__webpack_require__){\"use strict\";eval('\\r\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\r\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\r\\n    return new (P || (P = Promise))(function (resolve, reject) {\\r\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\r\\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\\r\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\r\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\r\\n    });\\r\\n};\\r\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\r\\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\\r\\n};\\r\\nObject.defineProperty(exports, \"__esModule\", { value: true });\\r\\nconst fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\\r\\nconst path_1 = __importDefault(__webpack_require__(/*! path */ \"path\"));\\r\\nconst core_1 = __importDefault(__webpack_require__(/*! ./core */ \"./src/server/core.ts\"));\\r\\nconst pluginsPath = path_1.default.join(GetResourcePath(GetCurrentResourceName()), \"plugins\");\\r\\nfs_1.default.readdirSync(pluginsPath).map((resName) => {\\r\\n    try {\\r\\n        fs_1.default.readdirSync(path_1.default.join(pluginsPath, resName, \"server\")).map((file) => __awaiter(void 0, void 0, void 0, function* () {\\r\\n            const plugin = __webpack_require__(\"./plugins sync recursive ^\\\\\\\\.\\\\\\\\/.*\\\\\\\\/server\\\\\\\\/.*$\")(`./${resName}/server/${file}`);\\r\\n            return plugin._handler(core_1.default);\\r\\n        }));\\r\\n    }\\r\\n    catch (error) {\\r\\n        return false;\\r\\n    }\\r\\n});\\r\\nexports(\"getServerProps\", () => core_1.default);\\r\\n\\n\\n//# sourceURL=webpack:///./src/server/server.ts?')},fs:\n/*!*********************!*\\\n  !*** external \"fs\" ***!\n  \\*********************/\n/*! no static exports found */function(module,exports){eval('module.exports = require(\"fs\");\\n\\n//# sourceURL=webpack:///external_%22fs%22?')},path:\n/*!***********************!*\\\n  !*** external \"path\" ***!\n  \\***********************/\n/*! no static exports found */function(module,exports){eval('module.exports = require(\"path\");\\n\\n//# sourceURL=webpack:///external_%22path%22?')}});","extractedComments":[]}